import React,{useEffect,useState}from'react';import{request}from'../services/api';import{Endpoints}from'../config/api';export default function SettingsPage(){const[settings,setSettings]=useState({});const[error,setError]=useState('');useEffect(()=>{(async()=>{try{const res=await request(Endpoints.settings);setSettings(res);}catch(e){setError(e.message);} })();},[]);const change=e=>setSettings({...settings,[e.target.name]:e.target.value});const submit=async e=>{e.preventDefault();try{await request(Endpoints.settings,{method:'PUT',body:JSON.stringify(settings)});alert('saved');}catch(e){setError(e.message);}};return(<div className="p-4"><h1 className="text-xl mb-4">Settings</h1>{error&&<div className="text-red-600">{error}</div>}<form onSubmit={submit} className="space-y-2">{['wg_interface','subnet','ip_start','server_public_ip','server_port','client_dns','client_allowed_ips'].map(f=><div key={f}><label className="block">{f}</label><input name={f} value={settings[f]||''} onChange={change} className="p-1 border w-full" required/></div>)}<button className="mt-2 p-2 bg-blue-600 text-white">Save</button></form></div>);}